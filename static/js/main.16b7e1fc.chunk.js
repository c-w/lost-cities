(this["webpackJsonplost-cities"]=this["webpackJsonplost-cities"]||[]).push([[0],{111:function(e,t,a){e.exports=a(139)},138:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(23),c=a.n(o),l=a(94),i=a.n(l),s=a(99),u=a(100),m=a(101),d=a(102),y=a(103),p=a(104),h=a(105),f=a(49),v=a(28),g=a(29),b=a(31),E=a(30),O=a(32),S=a(186),j=a(17),k=a(22),C=a(40),P=a.n(C),w=a(144),R=a(174),N=a(178),A=a(177),x=a(173),T=a(175),W=a(176),D=a(145),I=a(19),B=a(172),L=P()((function(e){return{fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));var U=function(e){var t=e.onClick,a=e.label,n=e.icon,o=L();return r.a.createElement(B.a,{color:"primary","aria-label":a,className:o.fab,onClick:t},r.a.createElement(I.a,{icon:n}))},F=a(79),G=a(76),J=a.n(G),$=a(77),H=a.n($),M=a(74),Z=a.n(M),q=a(75),z=a.n(q),K=a(95),Q=a.n(K),V=a(189),X=a(9);function Y(e){return e.reduce((function(e,t){return e+t}),0)}function _(e){var t={},a=!0,n=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var l=Object(k.a)(o.value,2),i=l[0],s=l[1];t[i]=s}}catch(u){n=!0,r=u}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}return t}var ee="user-astronaut",te=[-1,-2,-3];function ae(e){return-1!==te.indexOf(e)}var ne=[].concat(te,[2,3,4,5,6,7,8,9,10]),re=[Q.a[800],J.a[500],Z.a[500],H.a[500],z.a[500]];function oe(e){if(0===e.length)return 0;var t=function(e,t){var a=[],n=[],r=!0,o=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done);r=!0){var s=l.value;t(s)?a.push(s):n.push(s)}}catch(u){o=!0,c=u}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return[a,n]}(e,ae),a=Object(k.a)(t,2),n=a[0];return(Y(a[1])-20)*(n.length+1)+(e.length>=8?20:0)}var ce=Object(V.a)({id:"game",initial:"round1Player1",context:{gameRound:1,activePlayer:ee,player1Scores:[],player2Scores:[]},states:{round1Player1:{entry:["setRound1","setPlayer1"],on:{DONE:{target:"round1Player2",actions:["setPlayer1Score"]}}},round1Player2:{entry:["setRound1","setPlayer2"],on:{DONE:{target:"round2Player1",actions:["setPlayer2Score"]}}},round2Player1:{entry:["setRound2","setPlayer1"],on:{DONE:{target:"round2Player2",actions:["setPlayer1Score"]}}},round2Player2:{entry:["setRound2","setPlayer2"],on:{DONE:{target:"round3Player1",actions:["setPlayer2Score"]}}},round3Player1:{entry:["setRound3","setPlayer1"],on:{DONE:{target:"round3Player2",actions:["setPlayer1Score"]}}},round3Player2:{entry:["setRound3","setPlayer2"],on:{DONE:{target:"highscore",actions:["setPlayer2Score"]}}},highscore:{entry:Object(X.b)({gameRound:null,activePlayer:null}),exit:Object(X.b)({player1Scores:[],player2Scores:[]}),on:{RESTART:{target:"round1Player1"}}}}},{actions:{setRound1:Object(X.b)({gameRound:1}),setRound2:Object(X.b)({gameRound:2}),setRound3:Object(X.b)({gameRound:3}),setPlayer1:Object(X.b)({activePlayer:ee}),setPlayer2:Object(X.b)({activePlayer:"user-ninja"}),setPlayer1Score:Object(X.b)({player1Scores:function(e,t){return[].concat(Object(F.a)(e.player1Scores),[t.payload])}}),setPlayer2Score:Object(X.b)({player2Scores:function(e,t){return[].concat(Object(F.a)(e.player2Scores),[t.payload])}})}}),le={winner:"Winner",label:"Label",player1:"Player 1",player2:"Player 2",round:"Round {0}",total:"Total",restart:"Restart",investment:"Investment",clickToStart:"Click to start expedition",score:"Score: {0}",done:"Done",lostCities:"Lost Cities",player1Score:"Player 1 score",player2Score:"Player 2 score",activePlayer:"Active player"},ie=P()((function(e){return{winnerIcon:{paddingLeft:e.spacing(1),color:"#D4AF37"},totalRow:{fontWeight:e.typography.fontWeightBold}}}));var se=function(e){var t=e.player1Scores,a=e.player2Scores,o=e.onActionClick,c=ie(),l=Y(t),i=Y(a),s=r.a.createElement(I.a,{className:c.winnerIcon,icon:"trophy","aria-label":le.winner});return r.a.createElement(n.Fragment,null,r.a.createElement(x.a,{component:w.a},r.a.createElement(R.a,null,r.a.createElement(T.a,null,r.a.createElement(W.a,null,r.a.createElement(A.a,{align:"center"},r.a.createElement(D.a,{variant:"srOnly"},le.label)),r.a.createElement(A.a,{align:"center"},r.a.createElement(I.a,{icon:ee,"aria-label":le.player1}),l>i&&s),r.a.createElement(A.a,{align:"center"},r.a.createElement(I.a,{icon:"user-ninja","aria-label":le.player2}),i>l&&s))),r.a.createElement(N.a,null,function(e,t){for(var a=[],n=0;n<e.length;n++)a.push([e[n],t[n]]);return a}(t,a).map((function(e,t){var a=Object(k.a)(e,2),n=a[0],o=a[1];return r.a.createElement(W.a,{key:t},r.a.createElement(A.a,{align:"center"},le.round.format(t+1)),r.a.createElement(A.a,{align:"center"},n),r.a.createElement(A.a,{align:"center"},o))})),r.a.createElement(W.a,null,r.a.createElement(A.a,{className:c.totalRow,align:"center"},le.total),r.a.createElement(A.a,{className:c.totalRow,align:"center"},l),r.a.createElement(A.a,{className:c.totalRow,align:"center"},i))))),r.a.createElement(U,{onClick:o,icon:"redo",label:le.restart}))},ue=a(65),me=a(96),de=a(97),ye=a.n(de),pe=a(187),he=a(182),fe=a(181),ve=a(180),ge=a(179),be=a(106),Ee=a(188),Oe=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={checked:!1},a.onChange=function(e){var t=a.props,n=t.onChange,r=t.data,o=e.target.checked;a.setState({checked:o},(function(){return n({checked:o,data:r})}))},a}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.onChange,e.data,Object(be.a)(e,["onChange","data"])),a=this.state.checked;return r.a.createElement(Ee.a,Object.assign({onChange:this.onChange,checked:a},t))}}]),t}(n.PureComponent),Se=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).onChange=function(e){var t=e.data,n=e.checked,r=a.props.onChange,o=Object(me.a)({},a.state);o[t]=n;var c=Object.entries(o).filter((function(e){var t=Object(k.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(k.a)(e,2),a=t[0];t[1];return parseInt(a,10)}));a.setState(o,(function(){return r(oe(c))}))},a.state=_(ne.map((function(e){return[e,!1]}))),a.ColorCheckbox=ye()({root:{color:e.color,"&$checked":{color:e.color}},checked:{}})((function(e){return r.a.createElement(Oe,Object.assign({color:"default"},e))})),a}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.color;return r.a.createElement(ge.a,{container:!0},ne.map((function(a){return r.a.createElement(ge.a,{item:!0,key:a,xs:4,sm:6,lg:12},r.a.createElement(ve.a,{key:a,control:r.a.createElement(e.ColorCheckbox,{data:a,onChange:e.onChange}),label:r.a.createElement("div",{style:{color:t}},ae(a)?r.a.createElement(I.a,{icon:"handshake","aria-label":le.investment}):r.a.createElement(D.a,null,a))}))})))}}]),t}(n.PureComponent),je=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={score:null},a.onChange=function(e){var t=a.props,n=t.color,r=t.onChange;a.setState({score:e},(function(){return r({color:n,score:e})}))},a}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.color,t=this.state.score;return r.a.createElement(pe.a,null,r.a.createElement(fe.a,null,r.a.createElement(D.a,{style:{color:e}},r.a.createElement(I.a,{icon:"compass"}),"\xa0",r.a.createElement(D.a,{variant:"body1",component:"span"},null==t?le.clickToStart:le.score.format(t)))),r.a.createElement(he.a,null,r.a.createElement(Se,{color:e,onChange:this.onChange})))}}]),t}(n.PureComponent),ke=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state=_(re.map((function(e){return[e,0]}))),a.onScoreChange=function(e){var t=e.color,n=e.score;return a.setState(Object(ue.a)({},t,n))},a.onActionClick=function(){return a.props.onActionClick(Y(Object.values(a.state)))},a}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{padding:"".concat(16,"px")}},r.a.createElement(ge.a,{container:!0,spacing:2},re.map((function(t){return r.a.createElement(ge.a,{key:t,item:!0,xs:12,sm:6,lg:!0},r.a.createElement(je,{color:t,onChange:e.onScoreChange}))})))),r.a.createElement(U,{onClick:this.onActionClick,icon:"check",label:le.done}))}}]),t}(n.PureComponent),Ce=a(184),Pe=a(183),we=a(146),Re=a(185),Ne=P()((function(e){return{appBar:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},title:{flexGrow:1},gameRound:{flexGrow:1}}}));function Ae(e){var t=e.className;return r.a.createElement(D.a,{variant:"h6",component:"h1",className:t},le.lostCities)}function xe(e){var t=e.className,a=e.gameRound;return r.a.createElement(D.a,{variant:"subtitle1",component:"span",className:t},le.round.format(a))}function Te(e){var t=e.score,a=e.avatar,n=e.active,o=e.label;return r.a.createElement(Pe.a,{badgeContent:t,color:"secondary","aria-label":o,showZero:!0,max:999,overlap:"circle"},r.a.createElement(we.a,{color:"inherit",disabled:!n,"aria-label":n?le.activePlayer:null},r.a.createElement(I.a,{icon:a})))}var We=function(e){var t=e.gameRound,a=e.player1Score,o=e.player2Score,c=e.activePlayer,l=Ne();return r.a.createElement(Ce.a,{position:"sticky",className:l.appBar},r.a.createElement(Re.a,null,r.a.createElement(Ae,{className:l.title,gameRound:t}),null!=t&&r.a.createElement(n.Fragment,null,r.a.createElement(xe,{className:l.gameRound,gameRound:t}),r.a.createElement(Te,{label:le.player1Score,score:a,avatar:ee,active:c===ee}),r.a.createElement(Te,{label:le.player2Score,score:o,avatar:"user-ninja",active:"user-ninja"===c}))))},De="game-state-machine",Ie=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={current:ce.initialState},a.service=Object(S.a)(ce).onTransition((function(e){a.setState({current:e});try{localStorage.setItem(De,JSON.stringify(e))}catch(t){console.error("LocalStorage not available",t)}})),a.onScorerClick=function(e){return a.service.send({type:"DONE",payload:e})},a.onGameEndClick=function(){return a.service.send({type:"RESTART"})},a}return Object(O.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem(De)),t=j.a.create(e||ce.initialState),a=ce.resolveState(t);this.service.start(a)}},{key:"componentWillUnmount",value:function(){this.service.stop()}},{key:"render",value:function(){var e=this.state.current,t=e.context,a=t.activePlayer,o=t.gameRound,c=t.player1Scores,l=t.player2Scores;return r.a.createElement(n.Fragment,null,r.a.createElement(We,{gameRound:o,player1Score:Y(c),player2Score:Y(l),activePlayer:a}),e.matches("highscore")?r.a.createElement(se,{player1Scores:c,player2Scores:l,onActionClick:this.onGameEndClick}):r.a.createElement(ke,{key:e.value,onActionClick:this.onScorerClick}))}}]),t}(n.PureComponent),Be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(138);i.a.extend(String.prototype,{}),f.b.add(s.faCheck,u.faCompass,m.faHandshake,d.faRedo,y.faTrophy,p.faUserAstronaut,h.faUserNinja),c.a.render(r.a.createElement(Ie,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/lost-cities",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/lost-cities","/service-worker.js");Be?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Le(t,e)}))}}()}},[[111,1,2]]]);
//# sourceMappingURL=main.16b7e1fc.chunk.js.map